import{_ as a,o as n,c as s,e}from"./app-94b8f45f.js";const t={},p=e(`<h1 id="示例-为本地-http-服务启用-https" tabindex="-1"><a class="header-anchor" href="#示例-为本地-http-服务启用-https" aria-hidden="true">#</a> 示例-为本地 HTTP 服务启用 HTTPS</h1><h2 id="要求" tabindex="-1"><a class="header-anchor" href="#要求" aria-hidden="true">#</a> 要求</h2><ul><li>服务端域名</li><li>服务端暴露32123,32124端口</li><li>ssl证书</li></ul><h2 id="_1-配置" tabindex="-1"><a class="header-anchor" href="#_1-配置" aria-hidden="true">#</a> 1 配置</h2><p>服务端配置 <code>ptps-https.ini</code></p><div class="language-ini line-numbers-mode" data-ext="ini"><pre class="language-ini"><code><span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">common</span><span class="token punctuation">]</span></span>
<span class="token key attr-name">tunnel_host</span> <span class="token punctuation">=</span> <span class="token value attr-value">www.domain.com</span>
<span class="token key attr-name">tunnel_80_port</span> <span class="token punctuation">=</span> <span class="token value attr-value">32123</span>
<span class="token key attr-name">tunnel_443_port</span> <span class="token punctuation">=</span> <span class="token value attr-value">32124</span>
<span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">cert</span><span class="token punctuation">]</span></span>
<span class="token key attr-name">www.domain.com</span> <span class="token punctuation">=</span> <span class="token value attr-value">/cert/www.domain.com.pem</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">TIP</p><p><code>www.domain.com.pem</code> PEM must be contains certificate and private key</p></div><p>客户端配置 <code>ptpc-https.ini</code></p><div class="language-ini line-numbers-mode" data-ext="ini"><pre class="language-ini"><code><span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">common</span><span class="token punctuation">]</span></span>
<span class="token key attr-name">tunnel_host</span> <span class="token punctuation">=</span> <span class="token value attr-value">www.domain.com</span>
<span class="token key attr-name">tunnel_80_port</span> <span class="token punctuation">=</span> <span class="token value attr-value">32123</span>
<span class="token key attr-name">tunnel_80_port</span> <span class="token punctuation">=</span> <span class="token value attr-value">32124</span>
<span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">web</span><span class="token punctuation">]</span></span>
<span class="token key attr-name">local_host</span> <span class="token punctuation">=</span> <span class="token value attr-value">127.0.0.1</span>
<span class="token key attr-name">local_port</span> <span class="token punctuation">=</span> <span class="token value attr-value">8080</span>
<span class="token key attr-name">local_replace_host</span> <span class="token punctuation">=</span> <span class="token value attr-value">true</span>
<span class="token key attr-name">domain</span> <span class="token punctuation">=</span> <span class="token value attr-value">www.domain.com</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>将 <code>www.domain.com</code> 换成 你自己的服务端域名</p></div><h2 id="_2-启动" tabindex="-1"><a class="header-anchor" href="#_2-启动" aria-hidden="true">#</a> 2 启动</h2><p>服务端</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>./ptp <span class="token parameter variable">-s</span> --ini-path<span class="token operator">=</span>./ptps-https.ini <span class="token parameter variable">-vvv</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>客户端</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>./ptp <span class="token parameter variable">-c</span> --ini-path<span class="token operator">=</span>./ptpc-https.ini <span class="token parameter variable">-vvv</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="_3-验证" tabindex="-1"><a class="header-anchor" href="#_3-验证" aria-hidden="true">#</a> 3 验证</h2><p>域名解析 www.domain.com A 记录指向服务端 ip x.x.x.x</p><p>访问</p><p>https://www.domain.com:32124</p><h2 id="_4-原理" tabindex="-1"><a class="header-anchor" href="#_4-原理" aria-hidden="true">#</a> 4 原理</h2>`,20),i=[p];function c(l,o){return n(),s("div",null,i)}const d=a(t,[["render",c],["__file","example-https.html.vue"]]);export{d as default};
