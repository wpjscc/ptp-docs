import{_ as e,o as n,c as a,e as s}from"./app-94b8f45f.js";const t={},i=s(`<h1 id="安全" tabindex="-1"><a class="header-anchor" href="#安全" aria-hidden="true">#</a> 安全</h1><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>local----------client----------server-------user

client &lt;-----&gt;client
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="client-server" tabindex="-1"><a class="header-anchor" href="#client-server" aria-hidden="true">#</a> client-&gt;server</h2><p>可用tls和wss加密传输</p><p>client</p><div class="language-ini line-numbers-mode" data-ext="ini"><pre class="language-ini"><code><span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">common</span><span class="token punctuation">]</span></span>
<span class="token key attr-name">tunnel_protocol</span> <span class="token punctuation">=</span> <span class="token value attr-value">tls</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>server</p><div class="language-ini line-numbers-mode" data-ext="ini"><pre class="language-ini"><code><span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">common</span><span class="token punctuation">]</span></span>
<span class="token key attr-name">tunnel_host</span> <span class="token punctuation">=</span> <span class="token value attr-value">www.domain.com</span>
<span class="token key attr-name">tunnel_protocol</span> <span class="token punctuation">=</span> <span class="token value attr-value">tls</span>
<span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">cert</span><span class="token punctuation">]</span></span>
<span class="token key attr-name">www.domain.com</span> <span class="token punctuation">=</span> <span class="token value attr-value">/path/to/cert.pem</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>如果客户端没有/etc/ssl/cacert.pem 文件，可使用下面命令创建</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>
<span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /etc/ssl/

<span class="token function">wget</span> https://curl.se/ca/cacert.pem  <span class="token parameter variable">-O</span> /etc/ssl/cacert.pem
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><h2 id="client-client" tabindex="-1"><a class="header-anchor" href="#client-client" aria-hidden="true">#</a> client&lt;--&gt;client</h2><p>p2p打通后，udp是明文传输的，可使用 <code>AES-256-CBC</code>加密</p><div class="language-ini line-numbers-mode" data-ext="ini"><pre class="language-ini"><code><span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">p2p</span><span class="token punctuation">]</span></span>
<span class="token key attr-name">is_encrypt</span> <span class="token punctuation">=</span> <span class="token value attr-value">true</span>
<span class="token key attr-name">encrypt_key</span> <span class="token punctuation">=</span> <span class="token value attr-value">xxxxxxxx</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container warning"><p class="custom-container-title">WARNING</p><p>仅对传输过程中的流量进行加密，不会对应用的自身的header加密</p></div><h2 id="secret-key" tabindex="-1"><a class="header-anchor" href="#secret-key" aria-hidden="true">#</a> secret_key</h2><p>服务端可配置secret_key 对客户端进行注册过滤</p><p>client</p><div class="language-ini line-numbers-mode" data-ext="ini"><pre class="language-ini"><code><span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">common</span><span class="token punctuation">]</span></span>
<span class="token key attr-name">secret_key</span> <span class="token punctuation">=</span> <span class="token value attr-value">xxxxxxxx</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>server</p><div class="language-ini line-numbers-mode" data-ext="ini"><pre class="language-ini"><code><span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">common</span><span class="token punctuation">]</span></span>
<span class="token key attr-name">secret_key</span> <span class="token punctuation">=</span> <span class="token value attr-value">xxxxxxxx</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="token-and-is-private" tabindex="-1"><a class="header-anchor" href="#token-and-is-private" aria-hidden="true">#</a> token And is_private</h2><p>客户端可配置 <code>token</code> 和 <code>is_private</code> 限制仅有相同token的客户端才能访问</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>token = xxxx
is_private = true
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container warning"><p class="custom-container-title">WARNING</p><p>这两个key都要配置，仅配置<code>token</code>是无效的，<code>token</code>仅是<code>domain</code>的所有者, <code>is_private</code> 会验证token是否一致。</p></div><h2 id="http-user-and-http-pwd" tabindex="-1"><a class="header-anchor" href="#http-user-and-http-pwd" aria-hidden="true">#</a> http_user And http_pwd</h2><p>客户端可配置 <code>http_user</code> 和 <code>http_pwd</code> 在 http/https 协议上加一层验证</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>[web]
http_user = xxx
http_pwd = xxxx
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,26),c=[i];function l(d,p){return n(),a("div",null,c)}const r=e(t,[["render",l],["__file","index.html.vue"]]);export{r as default};
